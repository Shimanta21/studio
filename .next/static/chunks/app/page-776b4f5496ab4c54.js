(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{13075:(e,t,s)=>{Promise.resolve().then(s.bind(s,98731))},66695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>d,wL:()=>x});var r=s(95155),a=s(12115),l=s(59434);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});n.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...a})});d.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});c.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...a})});i.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...a})});x.displayName="CardFooter"},85127:(e,t,s)=>{"use strict";s.d(t,{A0:()=>d,BF:()=>c,Hj:()=>i,XI:()=>n,nA:()=>x,nd:()=>o});var r=s(95155),a=s(12115),l=s(59434);let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...a})})});n.displayName="Table";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...a})});d.displayName="TableHeader";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...a})});c.displayName="TableBody",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...a})}).displayName="TableFooter";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})});i.displayName="TableRow";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})});o.displayName="TableHead";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})});x.displayName="TableCell",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...a})}).displayName="TableCaption"},98731:(e,t,s)=>{"use strict";s.d(t,{default:()=>K});var r=s(95155),a=s(12115),l=s(66695),n=s(85127),d=s(83540),c=s(94517),i=s(24026),o=s(59434);let x={light:"",dark:".dark"},m=a.createContext(null);function u(){let e=a.useContext(m);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let f=a.forwardRef((e,t)=>{let{id:s,className:l,children:n,config:c,...i}=e,x=a.useId(),u="chart-".concat(s||x.replace(/:/g,""));return(0,r.jsx)(m.Provider,{value:{config:c},children:(0,r.jsxs)("div",{"data-chart":u,ref:t,className:(0,o.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",l),...i,children:[(0,r.jsx)(h,{id:u,config:c}),(0,r.jsx)(d.u,{children:n})]})})});f.displayName="Chart";let h=e=>{let{id:t,config:s}=e,a=Object.entries(s).filter(e=>{let[,t]=e;return t.theme||t.color});return a.length?(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(x).map(e=>{let[s,r]=e;return"\n".concat(r," [data-chart=").concat(t,"] {\n").concat(a.map(e=>{var t;let[r,a]=e,l=(null==(t=a.theme)?void 0:t[s])||a.color;return l?"  --color-".concat(r,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},j=c.m,p=a.forwardRef((e,t)=>{let{active:s,payload:l,className:n,indicator:d="dot",hideLabel:c=!1,hideIndicator:i=!1,label:x,labelFormatter:m,labelClassName:f,formatter:h,color:j,nameKey:p,labelKey:N}=e,{config:y}=u(),b=a.useMemo(()=>{var e;if(c||!(null==l?void 0:l.length))return null;let[t]=l,s="".concat(N||t.dataKey||t.name||"value"),a=g(y,t,s),n=N||"string"!=typeof x?null==a?void 0:a.label:(null==(e=y[x])?void 0:e.label)||x;return m?(0,r.jsx)("div",{className:(0,o.cn)("font-medium",f),children:m(n,l)}):n?(0,r.jsx)("div",{className:(0,o.cn)("font-medium",f),children:n}):null},[x,m,l,c,f,y,N]);if(!s||!(null==l?void 0:l.length))return null;let v=1===l.length&&"dot"!==d;return(0,r.jsxs)("div",{ref:t,className:(0,o.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:b,(0,r.jsx)("div",{className:"grid gap-1.5",children:l.map((e,t)=>{let s="".concat(p||e.name||e.dataKey||"value"),a=g(y,e,s),l=j||e.payload.fill||e.color;return(0,r.jsx)("div",{className:(0,o.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===d&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,r.jsxs)(r.Fragment,{children:[(null==a?void 0:a.icon)?(0,r.jsx)(a.icon,{}):!i&&(0,r.jsx)("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===d,"w-1":"line"===d,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===d,"my-0.5":v&&"dashed"===d}),style:{"--color-bg":l,"--color-border":l}}),(0,r.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[(0,r.jsxs)("div",{className:"grid gap-1.5",children:[v?b:null,(0,r.jsx)("span",{className:"text-muted-foreground",children:(null==a?void 0:a.label)||e.name})]}),e.value&&(0,r.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function g(e,t,s){if("object"!=typeof t||null===t)return;let r="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,a=s;return s in t&&"string"==typeof t[s]?a=t[s]:r&&s in r&&"string"==typeof r[s]&&(a=r[s]),a in e?e[a]:e[s]}p.displayName="ChartTooltip",i.s,a.forwardRef((e,t)=>{let{className:s,hideIcon:a=!1,payload:l,verticalAlign:n="bottom",nameKey:d}=e,{config:c}=u();return(null==l?void 0:l.length)?(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",s),children:l.map(e=>{let t="".concat(d||e.dataKey||"value"),s=g(c,e,t);return(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==s?void 0:s.icon)&&!a?(0,r.jsx)(s.icon,{}):(0,r.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==s?void 0:s.label]},e.value)})}):null}).displayName="ChartLegend";var N=s(93774),y=s(94754),b=s(96025),v=s(16238),w=s(17398),k=s(67785),M=s(80644),R=s(19164),_=s(74641),A=s(78816),T=s(83013),Z=s(7860),C=s(20657),B=s(94815),D=s(87374),L=s(3160),S=s(98328),W=s(30462),F=s(85268),P=s(80659),H=s(5263);let q={sales:{label:"Sales",color:"hsl(var(--primary))"}};function K(){let{products:e,sales:t,getDailySales:s}=(0,k.n)(),[d]=a.useState((0,M.o)(new Date)),c=a.useMemo(()=>e.reduce((e,t)=>e+t.stockInHand,0),[e]),i=a.useMemo(()=>e.filter(e=>e.expiryDate&&new Date(e.expiryDate)<new Date(d.getTime()+2592e6)).length,[e,d]),o=a.useMemo(()=>s(d),[s,d]),x=a.useMemo(()=>o.reduce((e,t)=>e+t.totalAmount,0),[o]),m=a.useMemo(()=>o.reduce((e,t)=>e+t.quantity,0),[o]),u=a.useMemo(()=>{let e=(0,R.w)(d),s=(0,_.p)(d);return t.filter(t=>{let r=new Date(t.saleDate);return r>=e&&r<=s}).reduce((e,t)=>e+t.totalAmount,0)},[t,d]),h=a.useMemo(()=>{let e=(0,A.e)(d,7),s=t.filter(t=>new Date(t.saleDate)>=e);if(0===s.length)return null;let r=Object.entries(s.reduce((e,t)=>(e[t.productName]=(e[t.productName]||0)+t.quantity,e),{})).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s})[0];return{name:r[0],quantity:r[1]}},[t,d]),g=a.useMemo(()=>{let e=(0,R.w)(d),s=t.filter(t=>new Date(t.saleDate)>=e);if(0===s.length)return null;let r=Object.entries(s.reduce((e,t)=>(e[t.productName]=(e[t.productName]||0)+t.quantity,e),{})).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s})[0];return{name:r[0],quantity:r[1]}},[t,d]),K=a.useMemo(()=>Array.from({length:7}).map((e,s)=>{let r=(0,A.e)(d,6-s),a=t.filter(e=>e.saleDate===(0,T.GP)(r,"yyyy-MM-dd"));return{date:(0,T.GP)(r,"MMM d"),sales:a.reduce((e,t)=>e+t.totalAmount,0)}}),[t,d]),E=a.useMemo(()=>{let e=(0,R.w)(d),s=(0,_.p)(d);return(0,Z.k)({start:e,end:s}).map(e=>{let s=(0,T.GP)(e,"yyyy-MM-dd"),r=t.filter(e=>e.saleDate===s);return{date:(0,T.GP)(e,"d"),sales:r.reduce((e,t)=>e+t.totalAmount,0)}})},[t,d]);return(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Today's Revenue"}),(0,r.jsx)(C.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["₹",x.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total sales for today"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Items Sold Today"}),(0,r.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["+",m]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total items sold today"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Total Stock"}),(0,r.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:c}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total items in hand"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Expiring Soon"}),(0,r.jsx)(L.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:i}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Items expiring in next 30 days"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"This Month's Revenue"}),(0,r.jsx)(S.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["₹",u.toFixed(2)]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Total revenue for ",(0,T.GP)(d,"MMMM")]})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Top Seller (Last 7 Days)"}),(0,r.jsx)(W.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold truncate",children:(null==h?void 0:h.name)||"N/A"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:h?"Sold ".concat(h.quantity," units"):"No sales in the last 7 days"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Top Seller (This Month)"}),(0,r.jsx)(F.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold truncate",children:(null==g?void 0:g.name)||"N/A"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:g?"Sold ".concat(g.quantity," units"):"in ".concat((0,T.GP)(d,"MMMM"))})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,r.jsxs)(l.Zp,{className:"lg:col-span-4",children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(P.A,{className:"h-5 w-5"})," Weekly Sales"]})}),(0,r.jsx)(l.Wu,{className:"pl-2",children:(0,r.jsx)(f,{config:q,className:"h-[300px] w-full",children:(0,r.jsxs)(N.E,{accessibilityLayer:!0,data:K,children:[(0,r.jsx)(y.d,{vertical:!1}),(0,r.jsx)(b.W,{dataKey:"date",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:e=>e.split(" ")[1]}),(0,r.jsx)(v.h,{tickFormatter:e=>"₹".concat(e),tickLine:!1,axisLine:!1,tickMargin:10}),(0,r.jsx)(j,{content:(0,r.jsx)(p,{})}),(0,r.jsx)(w.y,{dataKey:"sales",fill:"var(--color-sales)",radius:4})]})})})]}),(0,r.jsxs)(l.Zp,{className:"lg:col-span-3",children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Today's Sales"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"h-[300px] overflow-auto",children:(0,r.jsxs)(n.XI,{children:[(0,r.jsx)(n.A0,{children:(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nd,{children:"Product"}),(0,r.jsx)(n.nd,{className:"text-right",children:"Quantity"}),(0,r.jsx)(n.nd,{className:"text-right",children:"Amount"})]})}),(0,r.jsx)(n.BF,{children:o.length>0?o.map(e=>(0,r.jsxs)(n.Hj,{children:[(0,r.jsx)(n.nA,{className:"font-medium",children:e.productName}),(0,r.jsx)(n.nA,{className:"text-right",children:e.quantity}),(0,r.jsxs)(n.nA,{className:"text-right",children:["₹",e.totalAmount.toFixed(2)]})]},e.id)):(0,r.jsx)(n.Hj,{children:(0,r.jsx)(n.nA,{colSpan:3,className:"text-center h-24",children:"No sales today."})})})]})})})]})]}),(0,r.jsx)("div",{className:"grid gap-4",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(H.A,{className:"h-5 w-5"})," Monthly Sales (",(0,T.GP)(d,"MMMM"),")"]})}),(0,r.jsx)(l.Wu,{className:"pl-2",children:(0,r.jsx)(f,{config:q,className:"h-[300px] w-full",children:(0,r.jsxs)(N.E,{accessibilityLayer:!0,data:E,children:[(0,r.jsx)(y.d,{vertical:!1}),(0,r.jsx)(b.W,{dataKey:"date",tickLine:!1,tickMargin:10,axisLine:!1}),(0,r.jsx)(v.h,{tickFormatter:e=>"₹".concat(e),tickLine:!1,axisLine:!1,tickMargin:10}),(0,r.jsx)(j,{content:(0,r.jsx)(p,{})}),(0,r.jsx)(w.y,{dataKey:"sales",fill:"var(--color-sales)",radius:4})]})})})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,263,855,706,441,684,358],()=>t(13075)),_N_E=e.O()}]);